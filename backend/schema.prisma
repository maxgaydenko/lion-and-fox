// This file is automatically generated by Keystone, do not modify it manually.
// Modify your Keystone config when you want to change this.

datasource sqlite {
  url      = env("DATABASE_URL")
  provider = "sqlite"
}

generator client {
  provider = "prisma-client-js"
  output   = "node_modules/.prisma/client"
}

model User {
  id             String     @id @default(cuid())
  name           String     @default("")
  email          String     @unique @default("")
  lastAccessDate DateTime?
  expirationDate DateTime?
  role           String     @default("moderator")
  password       String
  showcases      Showcase[] @relation("Showcase_users")
}

model Page {
  id                    String     @id @default(cuid())
  menuName              String     @default("")
  url                   String     @unique @default("")
  parent                Page?      @relation("Page_parent", fields: [parentId], references: [id])
  parentId              String?    @map("parent")
  pos                   Int        @default(0)
  showInMenu            Boolean    @default(false)
  isPublished           Boolean    @default(false)
  img_filesize          Int?
  img_extension         String?
  img_width             Int?
  img_height            Int?
  img_mode              String?
  img_id                String?
  hasBlazon             Boolean    @default(false)
  showNeighborsInHeader Boolean    @default(false)
  pageTitle             String     @default("")
  gallery               String?
  content               String     @default("[{\"type\":\"paragraph\",\"children\":[{\"text\":\"\"}]}]")
  relations             Page[]     @relation("Page_relations")
  showcases             Showcase[] @relation("Page_showcases")
  from_Page_parent      Page[]     @relation("Page_parent")
  from_Page_relations   Page[]     @relation("Page_relations")

  @@index([parentId])
}

model Showcase {
  id            String  @id @default(cuid())
  title         String  @default("")
  pos           Int     @default(0)
  isPublished   Boolean @default(false)
  img_filesize  Int?
  img_extension String?
  img_width     Int?
  img_height    Int?
  img_mode      String?
  img_id        String?
  gallery       String?
  users         User[]  @relation("Showcase_users")
  pages         Page[]  @relation("Page_showcases")
}

model PopupGallery {
  id      String  @id @default(cuid())
  title   String  @default("")
  gallery String?
}