// This file is automatically generated by Keystone, do not modify it manually.
// Modify your Keystone config when you want to change this.

datasource sqlite {
  url      = env("DATABASE_URL")
  provider = "sqlite"
}

generator client {
  provider = "prisma-client-js"
  output   = "node_modules/.prisma/client"
}

model User {
  id             String     @id @default(cuid())
  name           String     @default("")
  email          String     @unique @default("")
  lastAccessDate DateTime?
  expirationDate DateTime?
  role           String     @default("moderator")
  password       String
  showcases      Showcase[] @relation("Showcase_users")
}

model Page {
  id          String    @id @default(cuid())
  menuName    String    @default("")
  menuSection String    @default("")
  url         String    @unique @default("")
  pos         Int       @default(0)
  isPublished Boolean   @default(false)
  hasBlazon   Boolean   @default(false)
  projects    Project[] @relation("Project_page")
  content     String    @default("[{\"type\":\"paragraph\",\"children\":[{\"text\":\"\"}]}]")
}

model Project {
  id            String  @id @default(cuid())
  page          Page?   @relation("Project_page", fields: [pageId], references: [id])
  pageId        String? @map("page")
  url           String  @unique @default("")
  pos           Int     @default(0)
  isPublished   Boolean @default(false)
  title         String  @default("")
  img_filesize  Int?
  img_extension String?
  img_width     Int?
  img_height    Int?
  img_mode      String?
  img_id        String?
  hasBlazon     Boolean @default(false)
  gallery       String?
  content       String  @default("[{\"type\":\"paragraph\",\"children\":[{\"text\":\"\"}]}]")

  @@index([pageId])
}

model Showcase {
  id            String  @id @default(cuid())
  title         String  @default("")
  pos           Int     @default(0)
  isPublished   Boolean @default(false)
  img_filesize  Int?
  img_extension String?
  img_width     Int?
  img_height    Int?
  img_mode      String?
  img_id        String?
  gallery       String?
  users         User[]  @relation("Showcase_users")
}